<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0" />
	<meta name="description"
		content="Web site designed and built by Theo Armour, resident at the Heritage">
	<meta name="keywords" content="JavaScript,Markdown,GitHub,FOSS">
	<meta name="date" content="2020-12-25">
	<title>Heretics</title>

	<!-- Copyright 2020 Theo Armour. MIT license -->
	<link rel="stylesheet" href="./lib/style/style-2020-12-24.css">

	<style>
		:root {
			/* --mnu-width: 15rem; */
			--main-hue: 240;
			/* 0 to 360 0=red 120=green 240=blue */
		}

		#MNUdivPopUp {
			max-height: 40vh;
		}
	</style>

</head>

<body>
	<!-- https://github.com/showdownjs/showdown -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>

	<script src="./lib/mnu-menu/v-2020-12-25/mnu-menu.js"></script>

	<script src="./lib/grv-github-repo-tree-view/grv-github-repo-tree-view-2020-12-25.js"></script>

	<script src="./lib/fo-file-open/foo-file-open-object-2020-12-25.js"></script>
	<script src="./lib/fo-file-open/foz-file-open-zip-2020-07-07.js"></script>
	<script src="./lib/fo-file-open/fr-file-reader-2020-07-06.js"></script>


	<details id=detNavMenu class="gmd-4">

		<summary id=sumNavMenu class="summary-secondary gmd-1">show || hide menu</summary>

		<nav id="navMenu" class="gmd-2">

			<div id=MNUdivHeader></div>

			<div id=GRVdivDetails></div>


			<div id="divStats"></div>
			<div id="divLog"></div>

			<hr>

			<div id=MNUdivFooter></div>

		</nav>

	</details>


	<main>

		<div id="divContentMain"></div>

	</main>




	<script>

		// divDescription.innerHTML = document.head.querySelector( "[ name=description ]" ).content +
		// 	"<br><br>Update: " + document.head.querySelector( "[ name=version ]" ).content

		const source = "https://github.com/heretics-sf/tootoo-2020/";

		const version = document.head.querySelector( "[ name=date ]" ).content;

		const description = document.head.querySelector( "[ name=description ]" ).content;

		init();

		function init() {

			MNU.path = "./";

			MNU.init();

			aGithub.href = source;

			//spnTitle.innerHTML = "Heretics";

			spnVersion.innerHTML = version;

			divDescription.innerHTML = description;

			// if running on server, keeps address bar pointed to latest dev

			//if ( !location.hash && location.protocol === "https:" ) {
			if ( location.protocol === "https:" ) {

				window.history.pushState( "", "", "./" + location.hash );

				GRV.urlViewer = "";
				GRV.ignoreFolders = [ "archive", "drafts", "images", "js", "lib", "src", "templates" ];

			} else {

				if ( location.href.includes( "pushme" ) ) {

					GRV.urlViewer = "https://heretics-sf.github.io/";

				} else {

					GRV.urlViewer = "";

				}
				//GRV.ignoreFolders = [];
				GRV.ignoreFolders = [ "archive", "drafts", "images", "lib" ];

			}

			GRV.user = "heretics-sf";
			GRV.repo = "heretics-sf.github.io";

			GRV.getFiles = GRV.getFilesSimple;

			GRV.init();

			FOO.init();

			FOO.onHashChange();

		}

	</script>
</body>

</html>